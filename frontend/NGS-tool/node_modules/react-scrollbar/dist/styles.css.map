{"version":3,"sources":["webpack:///./src/js/Scrollbar.js","webpack:///Scrollbar.linaria.css"],"names":[".s1czvwbg",".h7mmsr1",".v1kwrqv5",".h4wbx8a",".v68ojq"],"mappings":"AAiOMA;AAuBAC;AAOAC;AAOAC;AAOAC;ACxQN,2gUAA2gU,C","file":"styles.css","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Motion, spring } from 'react-motion';\nimport { styled } from 'linaria/react';\nimport { css } from 'linaria';\n\nimport { modifyObjValues } from './utils';\n\nclass ScrollBar extends React.Component {\n  constructor(props) {\n    super(props);\n    let newState = this.calculateState(props);\n    this.state = {\n      position: newState.position,\n      scrollSize: newState.scrollSize,\n      isDragging: false,\n      lastClientPosition: 0,\n    };\n\n    if (props.type === 'vertical') {\n      this.bindedHandleMouseMove = this.handleMouseMoveForVertical.bind(this);\n    } else {\n      this.bindedHandleMouseMove = this.handleMouseMoveForHorizontal.bind(this);\n    }\n\n    this.bindedHandleMouseUp = this.handleMouseUp.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.ownerDocument) {\n      this.props.ownerDocument.addEventListener(\n        'mousemove',\n        this.bindedHandleMouseMove\n      );\n      this.props.ownerDocument.addEventListener(\n        'mouseup',\n        this.bindedHandleMouseUp\n      );\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState(this.calculateState(nextProps));\n  }\n\n  componentWillUnmount() {\n    if (this.props.ownerDocument) {\n      this.props.ownerDocument.removeEventListener(\n        'mousemove',\n        this.bindedHandleMouseMove\n      );\n      this.props.ownerDocument.removeEventListener(\n        'mouseup',\n        this.bindedHandleMouseUp\n      );\n    }\n  }\n\n  calculateFractionalPosition(realContentSize, containerSize, contentPosition) {\n    let relativeSize = realContentSize - containerSize;\n\n    return 1 - (relativeSize - contentPosition) / relativeSize;\n  }\n\n  calculateState(props) {\n    let fractionalPosition = this.calculateFractionalPosition(\n      props.realSize,\n      props.containerSize,\n      props.position\n    );\n    let proportionalToPageScrollSize =\n      (props.containerSize * props.containerSize) / props.realSize;\n    let scrollSize =\n      proportionalToPageScrollSize < props.minScrollSize\n        ? props.minScrollSize\n        : proportionalToPageScrollSize;\n\n    let scrollPosition =\n      (props.containerSize - scrollSize) * fractionalPosition;\n    return {\n      scrollSize: scrollSize,\n      position: Math.round(scrollPosition),\n    };\n  }\n\n  render() {\n    let {\n      smoothScrolling,\n      isDragging,\n      type,\n      scrollbarStyle,\n      containerStyle,\n    } = this.props;\n    let isVoriziontal = type === 'horizontal';\n    let isVertical = type === 'vertical';\n    let scrollStyles = this.createScrollStyles();\n    let springifiedScrollStyles = smoothScrolling\n      ? modifyObjValues(scrollStyles, x => spring(x))\n      : scrollStyles;\n\n    let scrollbarClasses = `scrollbar-container ${isDragging ? 'active' : ''} ${\n      isVoriziontal ? horizontalScrollbarContainer : ''\n    } ${isVertical ? verticalScrollbarContainer : ''}`;\n\n    return (\n      <Motion style={springifiedScrollStyles}>\n        {style => (\n          <ScrollbarContainer\n            className={scrollbarClasses}\n            style={containerStyle}\n            onMouseDown={this.handleScrollBarContainerClick.bind(this)}\n            ref={x => (this.scrollbarContainer = x)}\n          >\n            <div\n              className={\n                isVoriziontal ? horizontalScrollbar : verticalScrollbar\n              }\n              style={{ ...scrollbarStyle, ...style }}\n              onMouseDown={this.handleMouseDown.bind(this)}\n            />\n          </ScrollbarContainer>\n        )}\n      </Motion>\n    );\n  }\n\n  handleScrollBarContainerClick(e) {\n    e.preventDefault();\n    let multiplier = this.computeMultiplier();\n    let clientPosition = this.isVertical() ? e.clientY : e.clientX;\n    let { top, left } = this.scrollbarContainer.getBoundingClientRect();\n    let clientScrollPosition = this.isVertical() ? top : left;\n\n    let position = clientPosition - clientScrollPosition;\n    let proportionalToPageScrollSize =\n      (this.props.containerSize * this.props.containerSize) /\n      this.props.realSize;\n\n    this.setState({ isDragging: true, lastClientPosition: clientPosition });\n    this.props.onPositionChange(\n      (position - proportionalToPageScrollSize / 2) / multiplier\n    );\n  }\n\n  handleMouseMoveForHorizontal(e) {\n    let multiplier = this.computeMultiplier();\n\n    if (this.state.isDragging) {\n      e.preventDefault();\n      let deltaX = this.state.lastClientPosition - e.clientX;\n      this.setState({ lastClientPosition: e.clientX });\n      this.props.onMove(0, deltaX / multiplier);\n    }\n  }\n\n  handleMouseMoveForVertical(e) {\n    let multiplier = this.computeMultiplier();\n\n    if (this.state.isDragging) {\n      e.preventDefault();\n      let deltaY = this.state.lastClientPosition - e.clientY;\n      this.setState({ lastClientPosition: e.clientY });\n      this.props.onMove(deltaY / multiplier, 0);\n    }\n  }\n\n  handleMouseDown(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let lastClientPosition = this.isVertical() ? e.clientY : e.clientX;\n    this.setState({ isDragging: true, lastClientPosition: lastClientPosition });\n\n    this.props.onFocus();\n  }\n\n  handleMouseUp(e) {\n    if (this.state.isDragging) {\n      e.preventDefault();\n      this.setState({ isDragging: false });\n    }\n  }\n\n  createScrollStyles() {\n    if (this.props.type === 'vertical') {\n      return {\n        height: this.state.scrollSize,\n        marginTop: this.state.position,\n      };\n    } else {\n      return {\n        width: this.state.scrollSize,\n        marginLeft: this.state.position,\n      };\n    }\n  }\n\n  computeMultiplier() {\n    return this.props.containerSize / this.props.realSize;\n  }\n\n  isVertical() {\n    return this.props.type === 'vertical';\n  }\n}\n\nScrollBar.propTypes = {\n  onMove: PropTypes.func,\n  onPositionChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  realSize: PropTypes.number,\n  containerSize: PropTypes.number,\n  position: PropTypes.number,\n  containerStyle: PropTypes.object,\n  scrollbarStyle: PropTypes.object,\n  type: PropTypes.oneOf(['vertical', 'horizontal']),\n  ownerDocument: PropTypes.any,\n  smoothScrolling: PropTypes.bool,\n  minScrollSize: PropTypes.number,\n};\n\nScrollBar.defaultProps = {\n  type: 'vertical',\n  smoothScrolling: false,\n};\n\nconst ScrollbarContainer = styled.div`\n  position: absolute;\n  background: none;\n  opacity: 0.1;\n  z-index: 99;\n\n  -webkit-transition: all 0.4s;\n  -moz-transition: all 0.4s;\n  -ms-transition: all 0.4s;\n  -o-transition: all 0.4s;\n  transition: all 0.4s;\n\n  &:hover {\n    background: gray;\n    opacity: 0.6 !important;\n  }\n\n  &.active {\n    background: gray;\n    opacity: 0.6 !important;\n  }\n`;\n\nconst horizontalScrollbarContainer = css`\n  width: 100%;\n  height: 10px;\n  left: 0;\n  bottom: 0;\n`;\n\nconst verticalScrollbarContainer = css`\n  width: 10px;\n  height: 100%;\n  right: 0;\n  top: 0;\n`;\n\nconst horizontalScrollbar = css`\n  width: 20px;\n  height: 8px;\n  background: black;\n  margin-top: 1px;\n`;\n\nconst verticalScrollbar = css`\n  width: 8px;\n  height: 20px;\n  background: black;\n  margin-left: 1px;\n`;\n\nexport default ScrollBar;\n",".s1czvwbg{position:absolute;background:none;opacity:0.1;z-index:99;-webkit-transition:all 0.4s;-moz-transition:all 0.4s;-ms-transition:all 0.4s;-o-transition:all 0.4s;-webkit-transition:all 0.4s;transition:all 0.4s;}.s1czvwbg:hover{background:gray;opacity:0.6 !important;}.s1czvwbg.active{background:gray;opacity:0.6 !important;}\n.h7mmsr1{width:100%;height:10px;left:0;bottom:0;}\n.v1kwrqv5{width:10px;height:100%;right:0;top:0;}\n.h4wbx8a{width:20px;height:8px;background:black;margin-top:1px;}\n.v68ojq{width:8px;height:20px;background:black;margin-left:1px;}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWt1Yi9Qcm9qZWN0cy9vc3MvcmVhY3RTY3JvbGxiYXIvc3JjL2pzL1Njcm9sbGJhci5qcyJdLCJuYW1lcyI6WyIuczFjenZ3YmciLCIuaDdtbXNyMSIsIi52MWt3cnF2NSIsIi5oNHdieDhhIiwiLnY2OG9qcSJdLCJtYXBwaW5ncyI6IkFBaU9NQTtBQXVCQUM7QUFPQUM7QUFPQUM7QUFPQUMiLCJmaWxlIjoiL1VzZXJzL2pha3ViL1Byb2plY3RzL29zcy9yZWFjdFNjcm9sbGJhci9zcmMvanMvU2Nyb2xsYmFyLmNzcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgTW90aW9uLCBzcHJpbmcgfSBmcm9tICdyZWFjdC1tb3Rpb24nO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSAnbGluYXJpYS9yZWFjdCc7XG5pbXBvcnQgeyBjc3MgfSBmcm9tICdsaW5hcmlhJztcblxuaW1wb3J0IHsgbW9kaWZ5T2JqVmFsdWVzIH0gZnJvbSAnLi91dGlscyc7XG5cbmNsYXNzIFNjcm9sbEJhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGxldCBuZXdTdGF0ZSA9IHRoaXMuY2FsY3VsYXRlU3RhdGUocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBwb3NpdGlvbjogbmV3U3RhdGUucG9zaXRpb24sXG4gICAgICBzY3JvbGxTaXplOiBuZXdTdGF0ZS5zY3JvbGxTaXplLFxuICAgICAgaXNEcmFnZ2luZzogZmFsc2UsXG4gICAgICBsYXN0Q2xpZW50UG9zaXRpb246IDAsXG4gICAgfTtcblxuICAgIGlmIChwcm9wcy50eXBlID09PSAndmVydGljYWwnKSB7XG4gICAgICB0aGlzLmJpbmRlZEhhbmRsZU1vdXNlTW92ZSA9IHRoaXMuaGFuZGxlTW91c2VNb3ZlRm9yVmVydGljYWwuYmluZCh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5iaW5kZWRIYW5kbGVNb3VzZU1vdmUgPSB0aGlzLmhhbmRsZU1vdXNlTW92ZUZvckhvcml6b250YWwuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLmJpbmRlZEhhbmRsZU1vdXNlVXAgPSB0aGlzLmhhbmRsZU1vdXNlVXAuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnByb3BzLm93bmVyRG9jdW1lbnQpIHtcbiAgICAgIHRoaXMucHJvcHMub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgICAgdGhpcy5iaW5kZWRIYW5kbGVNb3VzZU1vdmVcbiAgICAgICk7XG4gICAgICB0aGlzLnByb3BzLm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ21vdXNldXAnLFxuICAgICAgICB0aGlzLmJpbmRlZEhhbmRsZU1vdXNlVXBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB0aGlzLnNldFN0YXRlKHRoaXMuY2FsY3VsYXRlU3RhdGUobmV4dFByb3BzKSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vd25lckRvY3VtZW50KSB7XG4gICAgICB0aGlzLnByb3BzLm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ21vdXNlbW92ZScsXG4gICAgICAgIHRoaXMuYmluZGVkSGFuZGxlTW91c2VNb3ZlXG4gICAgICApO1xuICAgICAgdGhpcy5wcm9wcy5vd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdtb3VzZXVwJyxcbiAgICAgICAgdGhpcy5iaW5kZWRIYW5kbGVNb3VzZVVwXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNhbGN1bGF0ZUZyYWN0aW9uYWxQb3NpdGlvbihyZWFsQ29udGVudFNpemUsIGNvbnRhaW5lclNpemUsIGNvbnRlbnRQb3NpdGlvbikge1xuICAgIGxldCByZWxhdGl2ZVNpemUgPSByZWFsQ29udGVudFNpemUgLSBjb250YWluZXJTaXplO1xuXG4gICAgcmV0dXJuIDEgLSAocmVsYXRpdmVTaXplIC0gY29udGVudFBvc2l0aW9uKSAvIHJlbGF0aXZlU2l6ZTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVN0YXRlKHByb3BzKSB7XG4gICAgbGV0IGZyYWN0aW9uYWxQb3NpdGlvbiA9IHRoaXMuY2FsY3VsYXRlRnJhY3Rpb25hbFBvc2l0aW9uKFxuICAgICAgcHJvcHMucmVhbFNpemUsXG4gICAgICBwcm9wcy5jb250YWluZXJTaXplLFxuICAgICAgcHJvcHMucG9zaXRpb25cbiAgICApO1xuICAgIGxldCBwcm9wb3J0aW9uYWxUb1BhZ2VTY3JvbGxTaXplID1cbiAgICAgIChwcm9wcy5jb250YWluZXJTaXplICogcHJvcHMuY29udGFpbmVyU2l6ZSkgLyBwcm9wcy5yZWFsU2l6ZTtcbiAgICBsZXQgc2Nyb2xsU2l6ZSA9XG4gICAgICBwcm9wb3J0aW9uYWxUb1BhZ2VTY3JvbGxTaXplIDwgcHJvcHMubWluU2Nyb2xsU2l6ZVxuICAgICAgICA/IHByb3BzLm1pblNjcm9sbFNpemVcbiAgICAgICAgOiBwcm9wb3J0aW9uYWxUb1BhZ2VTY3JvbGxTaXplO1xuXG4gICAgbGV0IHNjcm9sbFBvc2l0aW9uID1cbiAgICAgIChwcm9wcy5jb250YWluZXJTaXplIC0gc2Nyb2xsU2l6ZSkgKiBmcmFjdGlvbmFsUG9zaXRpb247XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjcm9sbFNpemU6IHNjcm9sbFNpemUsXG4gICAgICBwb3NpdGlvbjogTWF0aC5yb3VuZChzY3JvbGxQb3NpdGlvbiksXG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQge1xuICAgICAgc21vb3RoU2Nyb2xsaW5nLFxuICAgICAgaXNEcmFnZ2luZyxcbiAgICAgIHR5cGUsXG4gICAgICBzY3JvbGxiYXJTdHlsZSxcbiAgICAgIGNvbnRhaW5lclN0eWxlLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGxldCBpc1Zvcml6aW9udGFsID0gdHlwZSA9PT0gJ2hvcml6b250YWwnO1xuICAgIGxldCBpc1ZlcnRpY2FsID0gdHlwZSA9PT0gJ3ZlcnRpY2FsJztcbiAgICBsZXQgc2Nyb2xsU3R5bGVzID0gdGhpcy5jcmVhdGVTY3JvbGxTdHlsZXMoKTtcbiAgICBsZXQgc3ByaW5naWZpZWRTY3JvbGxTdHlsZXMgPSBzbW9vdGhTY3JvbGxpbmdcbiAgICAgID8gbW9kaWZ5T2JqVmFsdWVzKHNjcm9sbFN0eWxlcywgeCA9PiBzcHJpbmcoeCkpXG4gICAgICA6IHNjcm9sbFN0eWxlcztcblxuICAgIGxldCBzY3JvbGxiYXJDbGFzc2VzID0gYHNjcm9sbGJhci1jb250YWluZXIgJHtpc0RyYWdnaW5nID8gJ2FjdGl2ZScgOiAnJ30gJHtcbiAgICAgIGlzVm9yaXppb250YWwgPyBob3Jpem9udGFsU2Nyb2xsYmFyQ29udGFpbmVyIDogJydcbiAgICB9ICR7aXNWZXJ0aWNhbCA/IHZlcnRpY2FsU2Nyb2xsYmFyQ29udGFpbmVyIDogJyd9YDtcblxuICAgIHJldHVybiAoXG4gICAgICA8TW90aW9uIHN0eWxlPXtzcHJpbmdpZmllZFNjcm9sbFN0eWxlc30+XG4gICAgICAgIHtzdHlsZSA9PiAoXG4gICAgICAgICAgPFNjcm9sbGJhckNvbnRhaW5lclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtzY3JvbGxiYXJDbGFzc2VzfVxuICAgICAgICAgICAgc3R5bGU9e2NvbnRhaW5lclN0eWxlfVxuICAgICAgICAgICAgb25Nb3VzZURvd249e3RoaXMuaGFuZGxlU2Nyb2xsQmFyQ29udGFpbmVyQ2xpY2suYmluZCh0aGlzKX1cbiAgICAgICAgICAgIHJlZj17eCA9PiAodGhpcy5zY3JvbGxiYXJDb250YWluZXIgPSB4KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICAgICAgaXNWb3JpemlvbnRhbCA/IGhvcml6b250YWxTY3JvbGxiYXIgOiB2ZXJ0aWNhbFNjcm9sbGJhclxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IC4uLnNjcm9sbGJhclN0eWxlLCAuLi5zdHlsZSB9fVxuICAgICAgICAgICAgICBvbk1vdXNlRG93bj17dGhpcy5oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9TY3JvbGxiYXJDb250YWluZXI+XG4gICAgICAgICl9XG4gICAgICA8L01vdGlvbj5cbiAgICApO1xuICB9XG5cbiAgaGFuZGxlU2Nyb2xsQmFyQ29udGFpbmVyQ2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBsZXQgbXVsdGlwbGllciA9IHRoaXMuY29tcHV0ZU11bHRpcGxpZXIoKTtcbiAgICBsZXQgY2xpZW50UG9zaXRpb24gPSB0aGlzLmlzVmVydGljYWwoKSA/IGUuY2xpZW50WSA6IGUuY2xpZW50WDtcbiAgICBsZXQgeyB0b3AsIGxlZnQgfSA9IHRoaXMuc2Nyb2xsYmFyQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBjbGllbnRTY3JvbGxQb3NpdGlvbiA9IHRoaXMuaXNWZXJ0aWNhbCgpID8gdG9wIDogbGVmdDtcblxuICAgIGxldCBwb3NpdGlvbiA9IGNsaWVudFBvc2l0aW9uIC0gY2xpZW50U2Nyb2xsUG9zaXRpb247XG4gICAgbGV0IHByb3BvcnRpb25hbFRvUGFnZVNjcm9sbFNpemUgPVxuICAgICAgKHRoaXMucHJvcHMuY29udGFpbmVyU2l6ZSAqIHRoaXMucHJvcHMuY29udGFpbmVyU2l6ZSkgL1xuICAgICAgdGhpcy5wcm9wcy5yZWFsU2l6ZTtcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc0RyYWdnaW5nOiB0cnVlLCBsYXN0Q2xpZW50UG9zaXRpb246IGNsaWVudFBvc2l0aW9uIH0pO1xuICAgIHRoaXMucHJvcHMub25Qb3NpdGlvbkNoYW5nZShcbiAgICAgIChwb3NpdGlvbiAtIHByb3BvcnRpb25hbFRvUGFnZVNjcm9sbFNpemUgLyAyKSAvIG11bHRpcGxpZXJcbiAgICApO1xuICB9XG5cbiAgaGFuZGxlTW91c2VNb3ZlRm9ySG9yaXpvbnRhbChlKSB7XG4gICAgbGV0IG11bHRpcGxpZXIgPSB0aGlzLmNvbXB1dGVNdWx0aXBsaWVyKCk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0RyYWdnaW5nKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBsZXQgZGVsdGFYID0gdGhpcy5zdGF0ZS5sYXN0Q2xpZW50UG9zaXRpb24gLSBlLmNsaWVudFg7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgbGFzdENsaWVudFBvc2l0aW9uOiBlLmNsaWVudFggfSk7XG4gICAgICB0aGlzLnByb3BzLm9uTW92ZSgwLCBkZWx0YVggLyBtdWx0aXBsaWVyKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVNb3VzZU1vdmVGb3JWZXJ0aWNhbChlKSB7XG4gICAgbGV0IG11bHRpcGxpZXIgPSB0aGlzLmNvbXB1dGVNdWx0aXBsaWVyKCk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0RyYWdnaW5nKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBsZXQgZGVsdGFZID0gdGhpcy5zdGF0ZS5sYXN0Q2xpZW50UG9zaXRpb24gLSBlLmNsaWVudFk7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgbGFzdENsaWVudFBvc2l0aW9uOiBlLmNsaWVudFkgfSk7XG4gICAgICB0aGlzLnByb3BzLm9uTW92ZShkZWx0YVkgLyBtdWx0aXBsaWVyLCAwKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVNb3VzZURvd24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGxldCBsYXN0Q2xpZW50UG9zaXRpb24gPSB0aGlzLmlzVmVydGljYWwoKSA/IGUuY2xpZW50WSA6IGUuY2xpZW50WDtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNEcmFnZ2luZzogdHJ1ZSwgbGFzdENsaWVudFBvc2l0aW9uOiBsYXN0Q2xpZW50UG9zaXRpb24gfSk7XG5cbiAgICB0aGlzLnByb3BzLm9uRm9jdXMoKTtcbiAgfVxuXG4gIGhhbmRsZU1vdXNlVXAoZSkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzRHJhZ2dpbmcpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0RyYWdnaW5nOiBmYWxzZSB9KTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVTY3JvbGxTdHlsZXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudHlwZSA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiB0aGlzLnN0YXRlLnNjcm9sbFNpemUsXG4gICAgICAgIG1hcmdpblRvcDogdGhpcy5zdGF0ZS5wb3NpdGlvbixcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiB0aGlzLnN0YXRlLnNjcm9sbFNpemUsXG4gICAgICAgIG1hcmdpbkxlZnQ6IHRoaXMuc3RhdGUucG9zaXRpb24sXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGNvbXB1dGVNdWx0aXBsaWVyKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNvbnRhaW5lclNpemUgLyB0aGlzLnByb3BzLnJlYWxTaXplO1xuICB9XG5cbiAgaXNWZXJ0aWNhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy50eXBlID09PSAndmVydGljYWwnO1xuICB9XG59XG5cblNjcm9sbEJhci5wcm9wVHlwZXMgPSB7XG4gIG9uTW92ZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uUG9zaXRpb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBvbkZvY3VzOiBQcm9wVHlwZXMuZnVuYyxcbiAgcmVhbFNpemU6IFByb3BUeXBlcy5udW1iZXIsXG4gIGNvbnRhaW5lclNpemU6IFByb3BUeXBlcy5udW1iZXIsXG4gIHBvc2l0aW9uOiBQcm9wVHlwZXMubnVtYmVyLFxuICBjb250YWluZXJTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgc2Nyb2xsYmFyU3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIHR5cGU6IFByb3BUeXBlcy5vbmVPZihbJ3ZlcnRpY2FsJywgJ2hvcml6b250YWwnXSksXG4gIG93bmVyRG9jdW1lbnQ6IFByb3BUeXBlcy5hbnksXG4gIHNtb290aFNjcm9sbGluZzogUHJvcFR5cGVzLmJvb2wsXG4gIG1pblNjcm9sbFNpemU6IFByb3BUeXBlcy5udW1iZXIsXG59O1xuXG5TY3JvbGxCYXIuZGVmYXVsdFByb3BzID0ge1xuICB0eXBlOiAndmVydGljYWwnLFxuICBzbW9vdGhTY3JvbGxpbmc6IGZhbHNlLFxufTtcblxuY29uc3QgU2Nyb2xsYmFyQ29udGFpbmVyID0gc3R5bGVkLmRpdmBcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBvcGFjaXR5OiAwLjE7XG4gIHotaW5kZXg6IDk5O1xuXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuNHM7XG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuNHM7XG4gIC1tcy10cmFuc2l0aW9uOiBhbGwgMC40cztcbiAgLW8tdHJhbnNpdGlvbjogYWxsIDAuNHM7XG4gIHRyYW5zaXRpb246IGFsbCAwLjRzO1xuXG4gICY6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IGdyYXk7XG4gICAgb3BhY2l0eTogMC42ICFpbXBvcnRhbnQ7XG4gIH1cblxuICAmLmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZDogZ3JheTtcbiAgICBvcGFjaXR5OiAwLjYgIWltcG9ydGFudDtcbiAgfVxuYDtcblxuY29uc3QgaG9yaXpvbnRhbFNjcm9sbGJhckNvbnRhaW5lciA9IGNzc2BcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTBweDtcbiAgbGVmdDogMDtcbiAgYm90dG9tOiAwO1xuYDtcblxuY29uc3QgdmVydGljYWxTY3JvbGxiYXJDb250YWluZXIgPSBjc3NgXG4gIHdpZHRoOiAxMHB4O1xuICBoZWlnaHQ6IDEwMCU7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDA7XG5gO1xuXG5jb25zdCBob3Jpem9udGFsU2Nyb2xsYmFyID0gY3NzYFxuICB3aWR0aDogMjBweDtcbiAgaGVpZ2h0OiA4cHg7XG4gIGJhY2tncm91bmQ6IGJsYWNrO1xuICBtYXJnaW4tdG9wOiAxcHg7XG5gO1xuXG5jb25zdCB2ZXJ0aWNhbFNjcm9sbGJhciA9IGNzc2BcbiAgd2lkdGg6IDhweDtcbiAgaGVpZ2h0OiAyMHB4O1xuICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgbWFyZ2luLWxlZnQ6IDFweDtcbmA7XG5cbmV4cG9ydCBkZWZhdWx0IFNjcm9sbEJhcjtcbiJdfQ==*/"],"sourceRoot":""}