{"ast":null,"code":"import _taggedTemplateLiteral from \"C:/Users/USER/Documents/6 sem/6s-proj/argon/argon-dashboard-react-master/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nimport _toConsumableArray from \"C:/Users/USER/Documents/6 sem/6s-proj/argon/argon-dashboard-react-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"C:/Users/USER/Documents/6 sem/6s-proj/argon/argon-dashboard-react-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/USER/Documents/6 sem/6s-proj/argon/argon-dashboard-react-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\6 sem\\\\6s-proj\\\\argon\\\\argon-dashboard-react-master\\\\src\\\\views\\\\examples\\\\uploadfile.js\",\n    _s = $RefreshSig$(),\n    _templateObject;\n\nimport _regeneratorRuntime from \"C:\\\\Users\\\\USER\\\\Documents\\\\6 sem\\\\6s-proj\\\\argon\\\\argon-dashboard-react-master\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport { React } from 'react';\nimport { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faDownload } from '@fortawesome/free-solid-svg-icons';\nimport { faFileAlt, faSpinner, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { Redirect, useHistory } from 'react-router-dom';\nimport FileUpload from '../../services/fileupload';\nimport Header from \"components/Headers/Header.js\";\nimport { Button, FormGroup, Form } from 'react-bootstrap';\nimport PaPa from 'papaparse';\nimport styled from 'styled-components';\nimport { Card, CardHeader, CardBody, NavItem, NavLink, Nav, Progress, Table, Container, Row, Col } from \"reactstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction UploadFile() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      files = _useState2[0],\n      setFiles = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      upload = _useState4[0],\n      setUpload = _useState4[1]; //true) \n\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      data = _useState6[0],\n      setData = _useState6[1];\n\n  var history = useHistory();\n  var formData = new FormData();\n\n  var uploadHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var file;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              file = event.target.files[0];\n              console.log(file); // if (!file) return;\n              //file.isUploading = true;\n\n              setFiles([].concat(_toConsumableArray(files), [file])); // form data -------------------------------------\n\n              formData.append('newfile', event.target.files[0]); // await FileUpload.upload(formData).then(res => {\n              //     console.log(res.data);\n              // })\n              // let reader = new FileReader();\n              // reader.readAsText(file);\n              // reader.onload = (e) => {\n              //     file.isUploading = false;\n              //     setFiles([...files, file])\n              //     // setUpload(false)\n              // }\n              // current -------------------------------------\n\n              PaPa.parse(file, {\n                // header: true,\n                // dynamicTyping: true,\n                // skipEmptyLines: true,\n                complete: function complete(results) {\n                  var Data = {\n                    file: file.name,\n                    data: results.data\n                  };\n                  FileUpload.upload(Data).then(function (res) {\n                    console.log(typeof res.data);\n                    setData(res.data);\n                    var dd = res.data.split('[');\n                    dd = dd[1].split(']');\n                    dd = dd.split[','];\n                    console.log(dd);\n                    history.push({\n                      pathname: '/admin/visualize',\n                      state: {\n                        data: res.data[1],\n                        name: res.data[1]\n                      }\n                    });\n                  });\n                }\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function uploadHandler(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var deleteFile = function deleteFile(filename) {\n    setFiles(files.filter(function (file) {\n      return file.name !== filename;\n    }));\n  }; // \"\"\"\n  // data = uploadedfile['data']\n  // data = data.split(\"\\r\\n\")\n  // data_list = []\n  // for i in data:\n  //     data_list.append(i.split(','))\n  // \"\"\"\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt--7\",\n      fluid: true,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-5\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"shadow\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              className: \"border-0\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                className: \"align-items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"mb-0\",\n                    children: \"Upload File\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              className: \"shadow align-items-center\",\n              children: /*#__PURE__*/_jsxDEV(StyledButton, {\n                style: {\n                  marginBottom: 25,\n                  marginTop: 25\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"App\",\n                  children: /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"file-card\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"file-inputs\",\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"file\",\n                          accept: \".csv\",\n                          onChange: uploadHandler\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 143,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"submit\",\n                          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                              icon: faPlus\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 148,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 147,\n                            columnNumber: 37\n                          }, this), \"Upload Sample File\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 145,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 141,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"main\",\n                        children: \"Supported files\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 157,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"info\",\n                        children: \"CSV\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 158,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                          className: \"file-list\",\n                          children: files && files.map(function (files) {\n                            return /*#__PURE__*/_jsxDEV(\"li\", {\n                              className: \"file-item\",\n                              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                                icon: faFileAlt\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 166,\n                                columnNumber: 49\n                              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                children: files.name\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 167,\n                                columnNumber: 49\n                              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"actions\",\n                                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"loading\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 169,\n                                  columnNumber: 53\n                                }, _this), files.isUploading ? /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                                  icon: faSpinner,\n                                  className: \"fa-spin\",\n                                  onClick: function onClick() {\n                                    return deleteFile(files.name);\n                                  }\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 170,\n                                  columnNumber: 74\n                                }, _this) : /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                                  icon: faTrash,\n                                  onClick: function onClick() {\n                                    return deleteFile(files.name);\n                                  }\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 174,\n                                  columnNumber: 57\n                                }, _this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 168,\n                                columnNumber: 49\n                              }, _this)]\n                            }, files.name, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 165,\n                              columnNumber: 45\n                            }, _this);\n                          })\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 161,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true);\n}\n\n_s(UploadFile, \"gc94kg7I1kn0OO94AXNJ1gI10eg=\", false, function () {\n  return [useHistory];\n});\n\n_c = UploadFile;\nexport default UploadFile;\nvar StyledButton = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n.title {\\n    font-weight: bold;\\n    font-size: 1.2rem;\\n    margin-bottom: 3em;\\n    margin-left: 12em;\\n}\\n.file-card {\\n    margin-left: 1.5em;\\n    margin-right: 1.5em;\\n    padding: 1em;\\n    display: flex;\\n    flex-direction: column;\\n    // justify-content: center;\\n    align-items: center;\\n    border: 3px dashed #cbd5e0;\\n    background-color: #edf2f7;\\n     width: 380px;\\n     height: 210px;\\n\\n    .file-inputs {\\n        position: relative;\\n        margin-bottom: 1em;\\n\\n        input {\\n            position: relative;\\n            text-align: right;\\n            opacity: 0;\\n            z-index: 2;\\n            cursor: pointer;\\n            height: 46px;\\n            max-width: 300px;\\n        }\\n\\n        button {\\n            position: absolute;\\n            top: 0px;\\n            left: 0px;\\n            width: 100%;\\n            height: 100%;\\n            z-index: 1;\\n            display: flex;\\n            justify-content: center;\\n            align-items: center;\\n\\n            color: #fff;\\n            background-color: #3ba051;\\n            font-size: 1.1rem;\\n            cursor: pointer;\\n            border-radius: 4px;\\n            border: none;\\n            outline: none;\\n            // padding: 1em;\\n            transition: background-color 0.4s;\\n            box-shadow: 0px 8px 24px rgba(16, 139, 119, 0.5);\\n\\n            i {\\n                width: 1.5em;\\n                height: 1.5em;\\n                padding: 0.4em;\\n                background-color: #fff;\\n                color: #3ba051;\\n                border-radius: 50%;\\n                display: flex;\\n                justify-content: center;\\n                align-items: center;\\n                margin-right: 0.8em;\\n                font-size: 0.8em;\\n            }\\n        }\\n\\n        &:hover {\\n            button {\\n                background-color: #f15120;\\n            }\\n        }\\n    }\\n}\\n\\n.main {\\n    font-weight: bold;\\n    margin-bottom: 0.4em;\\n}\\n\\n.info {\\n    font-size: 0.8rem;\\n}\\n//  ----------------------\\nli {\\n    list-style: none;\\n    margin: 1.2em 0;\\n    background-color: #6ae69338;\\n    border-radius: 5px;\\n    display: flex;\\n    align-items: center;\\n    padding: 1.2em 1.5em;\\n    height:1px;\\n    width: 300px;\\n    svg {\\n        color: #21f579;\\n        &:first-child {\\n            font-size: 1.2em;\\n            margin-right: 0.8em;\\n        }\\n    }\\n\\n    p {\\n        flex: 1;\\n        font-size: 0.9rem;\\n    }\\n\\n    .actions {\\n        justify-self: flex-end;\\n        cursor: pointer;\\n\\n        .fa-spinner {\\n            font-size: 1.2em;\\n        }\\n    },\\n\\n  \\n}\\n\"])));\n_c2 = StyledButton;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UploadFile\");\n$RefreshReg$(_c2, \"StyledButton\");","map":{"version":3,"sources":["C:/Users/USER/Documents/6 sem/6s-proj/argon/argon-dashboard-react-master/src/views/examples/uploadfile.js"],"names":["React","useState","FontAwesomeIcon","faPlus","faDownload","faFileAlt","faSpinner","faTrash","Redirect","useHistory","FileUpload","Header","Button","FormGroup","Form","PaPa","styled","Card","CardHeader","CardBody","NavItem","NavLink","Nav","Progress","Table","Container","Row","Col","UploadFile","files","setFiles","upload","setUpload","data","setData","history","formData","FormData","uploadHandler","event","file","target","console","log","append","parse","complete","results","Data","name","then","res","dd","split","push","pathname","state","deleteFile","filename","filter","marginBottom","marginTop","map","isUploading","StyledButton","div"],"mappings":"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","sourcesContent":["import { React } from 'react';\r\nimport { useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faDownload } from '@fortawesome/free-solid-svg-icons';\r\nimport { faFileAlt, faSpinner, faTrash } from '@fortawesome/free-solid-svg-icons'\r\nimport {Redirect, useHistory} from 'react-router-dom';\r\n\r\nimport FileUpload from '../../services/fileupload';  \r\nimport Header from \"components/Headers/Header.js\";\r\nimport { Button, FormGroup, Form } from 'react-bootstrap';\r\nimport PaPa from 'papaparse';   \r\nimport styled from 'styled-components';\r\nimport { \r\n      \r\n    Card, \r\n    CardHeader,\r\n    CardBody,\r\n    NavItem,\r\n    NavLink,\r\n    Nav,\r\n    Progress,\r\n    Table,\r\n    Container,\r\n    Row,\r\n    Col,\r\n  } from \"reactstrap\";\r\n\r\n \r\nfunction UploadFile() {\r\n    const [files, setFiles] = useState([]);\r\n    const [upload, setUpload] = useState('');//true) \r\n    const [data, setData] = useState({});\r\n\r\n  let history = useHistory();\r\n\r\n    let formData = new FormData();\r\n    const uploadHandler = async (event) => {\r\n\r\n        const file = event.target.files[0];\r\n        console.log(file)\r\n        // if (!file) return;\r\n        //file.isUploading = true;\r\n        setFiles([...files, file])\r\n\r\n\r\n        // form data -------------------------------------\r\n\r\n        formData.append(\r\n            'newfile', event.target.files[0],\r\n        )\r\n        // await FileUpload.upload(formData).then(res => {\r\n        //     console.log(res.data);\r\n\r\n        // })\r\n\r\n\r\n\r\n\r\n        // let reader = new FileReader();\r\n        // reader.readAsText(file);\r\n        // reader.onload = (e) => {\r\n        //     file.isUploading = false;\r\n        //     setFiles([...files, file])\r\n        //     // setUpload(false)\r\n\r\n        // }\r\n\r\n\r\n\r\n\r\n        // current -------------------------------------\r\n        PaPa.parse(file, {\r\n            // header: true,\r\n            // dynamicTyping: true,\r\n            // skipEmptyLines: true,\r\n            complete: function (results) {\r\n                \r\n                const Data = { file: file.name, data: results.data }\r\n\r\n                FileUpload.upload(Data).then(res => {\r\n                    console.log(typeof res.data);\r\n                    setData(res.data);\r\n                    var dd =(res.data).split('[')\r\n                    dd = dd[1].split(']')\r\n                    dd  = dd.split[',']\r\n                    console.log(dd)\r\n                    history.push({pathname:'/admin/visualize', state:{data:res.data[1], name:res.data[1]}});\r\n                })\r\n\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n    const deleteFile = (filename) => {\r\n        setFiles(files.filter(file => file.name !== filename))\r\n    }\r\n\r\n    // \"\"\"\r\n    // data = uploadedfile['data']\r\n    // data = data.split(\"\\r\\n\")\r\n    // data_list = []\r\n\r\n    // for i in data:\r\n    //     data_list.append(i.split(','))\r\n    // \"\"\"\r\n\r\n\r\n    return (\r\n        <>\r\n             <Header />\r\n\r\n\r\n             <Container className=\"mt--7\" fluid>\r\n      \r\n               \r\n              \r\n      <Row className=\"mt-5\">\r\n      \r\n        <Col>\r\n         {/* xl=\"4\"> */}\r\n          <Card className=\"shadow\">\r\n            <CardHeader className=\"border-0\">\r\n              <Row className=\"align-items-center\">\r\n                <div className=\"col\">\r\n              <h3 className=\"mb-0\">Upload File</h3>\r\n                </div>\r\n              </Row>\r\n            </CardHeader>\r\n          <Card className=\"shadow align-items-center\">\r\n\r\n            <StyledButton style={{  marginBottom : 25,   marginTop : 25}}>\r\n                {/* <div className='title'>Upload File</div> */}\r\n                <div className='App' >\r\n\r\n                    <>\r\n\r\n                        <div className=\"file-card\">\r\n\r\n                            <div className=\"file-inputs\">\r\n\r\n                                <input type=\"file\" accept='.csv'\r\n                                    onChange={uploadHandler} />\r\n                                <button type='submit'>\r\n\r\n                                    <i>\r\n                                        <FontAwesomeIcon icon={faPlus} />\r\n                                    </i>\r\n\r\n                                    Upload Sample File\r\n                                </button>\r\n\r\n                              \r\n                            </div>\r\n\r\n                            <p className=\"main\">Supported files</p>\r\n                            <p className=\"info\">CSV</p>\r\n\r\n                            <>\r\n                                <ul className=\"file-list\">\r\n                                    {\r\n                                        files &&\r\n                                        files.map(files => (\r\n                                            <li className=\"file-item\" key={files.name}>\r\n                                                <FontAwesomeIcon icon={faFileAlt} />\r\n                                                <p>{files.name}</p>\r\n                                                <div className=\"actions\">\r\n                                                    <div className=\"loading\"></div>\r\n                                                    {files.isUploading ? <FontAwesomeIcon\r\n                                                        icon={faSpinner} className=\"fa-spin\"\r\n                                                        onClick={() => deleteFile(files.name)} />\r\n                                                        :\r\n                                                        <FontAwesomeIcon icon={faTrash}\r\n                                                            onClick={() => deleteFile(files.name)} />\r\n                                                    }\r\n                                                </div>\r\n                                            </li>\r\n                                        ))\r\n                                    }\r\n                                </ul>\r\n                            </>\r\n                        </div>\r\n\r\n                       \r\n\r\n                    </>\r\n\r\n                </div>\r\n               \r\n            </StyledButton >\r\n</Card>\r\n          </Card>\r\n        </Col>\r\n      \r\n\r\n       \r\n      </Row>\r\n\r\n      \r\n    </Container>\r\n    \r\n\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default UploadFile;\r\n\r\nconst StyledButton= styled.div`\r\n.title {\r\n    font-weight: bold;\r\n    font-size: 1.2rem;\r\n    margin-bottom: 3em;\r\n    margin-left: 12em;\r\n}\r\n.file-card {\r\n    margin-left: 1.5em;\r\n    margin-right: 1.5em;\r\n    padding: 1em;\r\n    display: flex;\r\n    flex-direction: column;\r\n    // justify-content: center;\r\n    align-items: center;\r\n    border: 3px dashed #cbd5e0;\r\n    background-color: #edf2f7;\r\n     width: 380px;\r\n     height: 210px;\r\n\r\n    .file-inputs {\r\n        position: relative;\r\n        margin-bottom: 1em;\r\n\r\n        input {\r\n            position: relative;\r\n            text-align: right;\r\n            opacity: 0;\r\n            z-index: 2;\r\n            cursor: pointer;\r\n            height: 46px;\r\n            max-width: 300px;\r\n        }\r\n\r\n        button {\r\n            position: absolute;\r\n            top: 0px;\r\n            left: 0px;\r\n            width: 100%;\r\n            height: 100%;\r\n            z-index: 1;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n\r\n            color: #fff;\r\n            background-color: #3ba051;\r\n            font-size: 1.1rem;\r\n            cursor: pointer;\r\n            border-radius: 4px;\r\n            border: none;\r\n            outline: none;\r\n            // padding: 1em;\r\n            transition: background-color 0.4s;\r\n            box-shadow: 0px 8px 24px rgba(16, 139, 119, 0.5);\r\n\r\n            i {\r\n                width: 1.5em;\r\n                height: 1.5em;\r\n                padding: 0.4em;\r\n                background-color: #fff;\r\n                color: #3ba051;\r\n                border-radius: 50%;\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n                margin-right: 0.8em;\r\n                font-size: 0.8em;\r\n            }\r\n        }\r\n\r\n        &:hover {\r\n            button {\r\n                background-color: #f15120;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.main {\r\n    font-weight: bold;\r\n    margin-bottom: 0.4em;\r\n}\r\n\r\n.info {\r\n    font-size: 0.8rem;\r\n}\r\n//  ----------------------\r\nli {\r\n    list-style: none;\r\n    margin: 1.2em 0;\r\n    background-color: #6ae69338;\r\n    border-radius: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 1.2em 1.5em;\r\n    height:1px;\r\n    width: 300px;\r\n    svg {\r\n        color: #21f579;\r\n        &:first-child {\r\n            font-size: 1.2em;\r\n            margin-right: 0.8em;\r\n        }\r\n    }\r\n\r\n    p {\r\n        flex: 1;\r\n        font-size: 0.9rem;\r\n    }\r\n\r\n    .actions {\r\n        justify-self: flex-end;\r\n        cursor: pointer;\r\n\r\n        .fa-spinner {\r\n            font-size: 1.2em;\r\n        }\r\n    },\r\n\r\n  \r\n}\r\n`;\r\n \r\n \r\n"]},"metadata":{},"sourceType":"module"}